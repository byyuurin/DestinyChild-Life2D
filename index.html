<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Destiny Child Live2D tool</title>
    <link rel="stylesheet" href="./style/style.css">
</head>

<body>
    <div id="app">
        <div class="pageHeader">
            <h1>Destiny Child Live2D tool</h1>
        </div>
        <div class="pageContent">
            <div class="input-group">
                <input type="checkbox" id="editRawData" v-model="editRawData">
                <label for="editRawData">顯示參照檔</label>
                <div class="raw-input" v-show="!dbRawData || editRawData">
                    <hr>
                    <h2>參照檔</h2>
                    <textarea placeholder="vid   name   description" v-model="dbRawData"></textarea>
                </div>
                <h2>必要設定</h2>
                <div class="group-content">
                    <label>pck檔名<input type="text" name="vid" maxlength="7" placeholder="c001_01" v-model.trim="vid"></label>
                    <label>素材圖數量<input type="number" name="textures" maxlength="2" placeholder="*.png 素材圖數量" v-model="textures"></label>
                    <div class="vid-matches" v-show="vidInfo.length > 0">
                        <div class="dash-line"></div>
                        <ul>
                            <li v-for="info in vidInfo" :class="{match:(vidInfo.length===1 && vid === info.vid)}"
                                @click="vid = info.vid">({{info.vid}}){{info.name}}</li>
                        </ul>
                    </div>

                </div>
            </div>
            <transition name="fade" mode="out-in" appear>
                <div class="output-group" v-if="isOutput">
                    <hr>
                    <h2>封裝檔案步驟</h2>
                    <div class="group-content">
                        <textarea v-if="outputContent">{{outputContent}}</textarea>
                    </div>
                    <div class="group-content">
                        <ol>
                            <li>將 <strong>*.json</strong> 更名為
                                <code>{{vid}}.{{settings.main.extension}}</code>
                                ，並以左方內容取代
                            </li>
                            <li>將 <strong>*.{{settings.motions.extension}}</strong> 更名為
                                <ul>
                                    <li v-for="(tap) in (settings.motions.taps)"><code>{{vid}}_{{tap}}.{{settings.motions.extension}}</code></li>
                                    <li><code>{{vid}}_{{settings.motions.idle}}.{{settings.motions.extension}}</code></li>
                                </ul>
                            </li>
                            <li>將 <strong>*.{{settings.model.extension}}</strong> 更名為
                                <ul>
                                    <li><code>{{outputContent.model}}</code></li>
                                </ul>
                            </li>
                            <li>將 <strong>*.png</strong> 更名為
                                <ul>
                                    <li v-for="texture in (outputContent.textures)">
                                        <code>{{texture}}</code>
                                    </li>
                                </ul>

                            </li>

                            <li>將以下檔案拷貝至目錄中
                                <ul>
                                    <li v-for="(tap, key) in (outputContent.motions.tap)"><code>{{tap.sound}}</code></li>
                                </ul>
                            </li>
                            <li>
                                將目錄壓縮為<code>zip</code>格式檔案，像是
                                <ul>
                                    <li><code>{{vid}}.zip</code></li>
                                    <li><code>({{vidInfo[0].vid}}){{vidInfo[0].name}}.zip</code></li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                </div>
            </transition>
        </div>
    </div>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.16/vue.js'></script>
    <script src="./script/script.js"></script>
    <script>
    </script>
</body>

</html>